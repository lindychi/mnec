{% extends 'nec_todo/base.html' %}

{% block content %}
  <h3>매일 할 일</h3>
  <a href="{% url 'todo_create_simple' %}"><button class="btn btn-info">할일 추가</button></a>
  <table>
  {% for daily in daily_list %}
    <tr>
      <td>
      {% if daily.is_past_due %}
        <span class="badge badge-primary">{{daily.end_date|timesince}} 지남</span>
      {% else %}
        <span class="badge badge-info">{{daily.end_date|timeuntil}} 남음</span>
      {% endif %}
      </td>
      <td>
      <a href="{% url 'todo_view' daily.title %}">{{ daily.title | truncatechars:30 }}</a>
      </td>
      <td>
      <a href="{% url 'todo_delay_enddate' daily.id 1 %}"><button class="badge badge-secondary">+1</button></a>
      <a href="{% url 'todo_delay_enddate' daily.id 7 %}"><button class="badge badge-secondary">+7</button></a>
      <a href="{% url 'todo_edit' daily.id %}"><button class="badge badge-info">수정</button></a>
      <a href="{% url 'todo_do' daily.id %}"><button class="badge badge-success">완료</button></a>
      <a href="{% url 'todo_delete' daily.id %}"><button class="badge badge-primary">삭제</button></a>
      </td>
    </tr>
  {% endfor %}
  </table>
  <h3>할 일 목록</h3>
  <table>
  {% for todo in todo_list %}
    <tr>
      <td>
      {% if todo.is_past_due %}
        <span class="badge badge-primary">{{todo.end_date|timesince}} 지남</span>
      {% else %}
        <span class="badge badge-info">{{todo.end_date|timeuntil}} 남음</span>
      {% endif %}
      </td>
      <td>
      <a href="{% url 'todo_view' todo.title %}">{{ todo.title | truncatechars:30 }}</a>
      </td>
      <td>
      <a href="{% url 'todo_delay_enddate' todo.id 1 %}"><button class="badge badge-secondary">+1</button></a>
      <a href="{% url 'todo_delay_enddate' todo.id 7 %}"><button class="badge badge-secondary">+7</button></a>
      <a href="{% url 'todo_edit' todo.id %}"><button class="badge badge-info">수정</button></a>
      <a href="{% url 'todo_do' todo.id %}"><button class="badge badge-success">완료</button></a>
      <a href="{% url 'todo_delete' todo.id %}"><button class="badge badge-primary">삭제</button></a>
      </td>
    </tr>
  {% endfor %}
  </table>
{% endblock %}
